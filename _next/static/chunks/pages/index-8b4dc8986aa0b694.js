(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2818)}])},2818:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Y}});var a=s(5893),l=s(7294),n=s(2690),o=s(2521),r=s(2578),i=s(1163),c=s(3935);let d=99,p=[],u=e=>{let{open:t,content:s,onClose:n}=e,o=(0,i.useRouter)(),[r,u]=(0,l.useState)(0),[h,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{m(e=>(e!=t&&(t?(d+=1,o.push(o.asPath+"#"+d),p.push(d),u(d)):(d-=1,setTimeout(()=>{p.length-=1},0))),t))},[t]);let v=(0,l.useMemo)(()=>e=>{e.preventDefault(),u(e=>(p.length&&e==p[p.length-1]&&n(),e))},[n]);if((0,l.useEffect)(()=>(window.addEventListener("popstate",v),()=>{window.removeEventListener("popstate",v)}),[v]),!t)return(0,a.jsx)(a.Fragment,{});let x=(0,a.jsxs)("div",{style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"auto",zIndex:d},children:[(0,a.jsx)("span",{style:{cursor:"pointer",position:"fixed",top:0,right:10,padding:10,zIndex:1},onClick:e=>{e.stopPropagation(),o.back()},children:"✖"}),s]});return(0,c.createPortal)(x,document.body)},h=e=>{let{src:t,alt:s,img:n}=e,o=(0,l.useMemo)(()=>l.createRef(),[]);return((0,l.useEffect)(()=>{let e=o.current;if(!e)return;function t(e){e.stopPropagation()}e.style.width="100%",e.style.height="100%",e.style.overflow="hidden";let s=e.querySelector("img");if(!s)return;s.style.width="auto",s.style.maxWidth="100%",s.style.height="auto",s.style.maxHeight="100%";let a=1,l=0,n=0,r=1,i=0,c=0,d=!1,p={},u=setTimeout(()=>{},0),h=Date.now(),m={wheel:function(t){t.stopPropagation(),t.preventDefault(),s.style.transition="transform 0.3s ease";let l=-Math.max(-1,Math.min(1,t.deltaY||-t.detail)),n=a;a*=1+.1*l,a=Math.max(.1,a);let o=e.offsetWidth/2,r=e.offsetHeight/2,d=i+o,p=c+r;i=t.clientX-(t.clientX-d)/n*a-o,c=t.clientY-(t.clientY-p)/n*a-r,s.style.transform="translate("+i+"px, "+c+"px) scale("+a+")"},mousedown:function(e){e.stopPropagation(),d=!0,l=e.clientX-i,n=e.clientY-c,s.style.cursor="grabbing"},mousemove:function(e){if(d){s.style.transition="",e.stopPropagation(),e.preventDefault(),s.onclick=t;let o=e.clientX-l,r=e.clientY-n;i=o,c=r,s.style.transform="translate("+o+"px, "+r+"px) scale("+a+")"}},mouseup:function(e){e.stopPropagation(),d=!1,s.style.cursor="grab"},mouseleave:function(e){e.stopPropagation(),d=!1,s.style.cursor="grab"},reset(){a=1,l=0,n=0,i=0,c=0,p={},s.style.transform="none",s.onclick=()=>{}},touchcancel:function(e){e.stopPropagation(),e.preventDefault(),s.onclick=()=>{},s.style.transition="",s.style.transform="translate("+i+"px, "+c+"px) scale("+a+")"},touchend:function(e){e.stopPropagation(),s.onclick=()=>{},e.targetTouches.length||(p.tpuchScale=!1)},touchstart:function(e){e.stopPropagation(),p.tpuchScale||(l=e.targetTouches[0].clientX-i,n=e.targetTouches[0].clientY-c),e.targetTouches[1]&&(p.tpuchScale=!0,p.last1X=e.targetTouches[0].clientX,p.last1Y=e.targetTouches[0].clientY,p.last2X=e.targetTouches[1].clientX,p.last2Y=e.targetTouches[1].clientY,p.scale=a,r=Math.sqrt(Math.pow(p.last2X-p.last1X,2)+Math.pow(p.last2Y-p.last1Y,2)))},touchmove:function(o){if(o.stopPropagation(),o.preventDefault(),s.onclick=t,o.targetTouches[1]){p.delta1X=o.targetTouches[0].clientX,p.delta1Y=o.targetTouches[0].clientY,p.delta2X=o.targetTouches[1].clientX,p.delta2Y=o.targetTouches[1].clientY;let t=e.offsetWidth/2,l=e.offsetHeight/2,n=Math.sqrt(Math.pow(p.delta2X-p.delta1X,2)+Math.pow(p.delta2Y-p.delta1Y,2))/r,d=a;a=Math.max(.1,a=Number(p.scale)*n);let m=p.delta1X+(p.delta2X-p.delta1X)/2,v=p.delta1Y+(p.delta2Y-p.delta1Y)/2,x=c+l;i=m-(m-(i+t))/d*a-t,c=v-(v-x)/d*a-l;let g=()=>{!(Date.now()-h<5)&&s&&(s.style.transition="transform 0.3s ease",s.style.transform="translate("+i+"px, "+c+"px) scale("+a+")")};Date.now()-h>=50?(g(),h=Date.now()):(clearTimeout(u),u=setTimeout(()=>{g()},50))}else p.tpuchScale||(s.style.transition="",i=o.targetTouches[0].clientX-l,c=o.targetTouches[0].clientY-n,s.style.transform="translate("+i+"px, "+c+"px) scale("+a+")")}};e.removeEventListener("click",m.reset),e.removeEventListener("wheel",m.wheel),s.removeEventListener("mousedown",m.mousedown),s.removeEventListener("mousemove",m.mousemove),s.removeEventListener("mouseup",m.mouseup),s.removeEventListener("mouseleave",m.mouseleave),e.removeEventListener("touchend",m.touchend),e.removeEventListener("touchstart",m.touchstart),e.removeEventListener("touchmove",m.touchmove),e.addEventListener("click",m.reset),e.addEventListener("wheel",m.wheel),s.addEventListener("mousedown",m.mousedown),s.addEventListener("mousemove",m.mousemove),s.addEventListener("mouseup",m.mouseup),s.addEventListener("mouseleave",m.mouseleave),s.ondrag=s.ondragend=s.ondragstart=function(e){e.stopPropagation(),e.preventDefault()},e.addEventListener("touchend",m.touchend),e.addEventListener("touchstart",m.touchstart),e.addEventListener("touchmove",m.touchmove)},[o]),t)?(0,a.jsx)("div",{className:"zoom-image",ref:o,children:n||(0,a.jsx)("img",{src:t,alt:s})}):(0,a.jsx)(a.Fragment,{})},m=e=>{let{content:t}=e,[s,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)({src:"",alt:""}),[p,m]=(0,l.useState)(null),v=(0,l.useMemo)(()=>(0,r.l)().use(n.Z,{fragment:!0}).use(o.Z,{createElement:l.createElement,Fragment:l.Fragment,components:{img(e){let t=(0,a.jsx)("img",{src:e.src,alt:e.alt,onClick:s=>{s.stopPropagation(),d({src:e.src||"",alt:e.alt||""}),m(t),i(!0)}});return t}}}),[]),x=(0,l.useMemo)(()=>t?v.processSync(t.replace(/(。|？|」|]|……|”)/g,"$1<br>").replace(/<br><br>/g,"<bar><bar>").replace(/<br>/g,"").replace(/<bar><bar>/g,"<br><br>")).result:(0,a.jsx)(a.Fragment,{}),[t,v]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"art-content",children:x}),(0,a.jsx)(u,{open:s,content:(0,a.jsx)(h,{src:c.src,alt:c.alt,img:p}),onClose:()=>i(!1)})]})},v=e=>{let t=(0,l.useMemo)(()=>l.createRef(),[]),[s,n]=(0,l.useState)({x:0,y:0}),[o,r]=(0,l.useState)("none"),{children:i,onScroolEnd:c,onScroolTop:d}=e,p={...e};return delete p.onScroolEnd,delete p.onScroolTop,p.style?p.style.overscrollBehavior="contain":p.style={overscrollBehavior:"contain"},(0,a.jsx)("div",{...p,ref:t,onWheel:e=>{let s=t.current;s&&(s.scrollTop+s.offsetHeight>=s.scrollHeight-400&&e.deltaY>0?(r("end"),c&&c()):s.scrollTop<=10&&e.deltaY<0&&(r("top"),setTimeout(()=>{r(e=>"top"==e?"top1":e)},200),setTimeout(()=>{r(e=>"top"==e||"top1"==e?"none":e)},400),d&&"top1"==o&&d()))},onTouchStart:e=>{e.changedTouches[0]&&n({x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY})},onTouchEnd:e=>{if(e.changedTouches[0]&&Math.abs(e.changedTouches[0].screenX-s.x)<Math.abs(e.changedTouches[0].screenY-s.y)){let a=t.current;a&&(a.scrollTop+a.offsetHeight>=a.scrollHeight-400&&e.changedTouches[0].screenY-s.y<-50?c&&c():a.scrollTop<=10&&e.changedTouches[0].screenY-s.y>50&&d&&d())}},children:i})},x=e=>{let{arts:t,onType:s,onScroolEnd:n,onScroolTop:o}=e,[r,i]=(0,l.useState)(),[c,d]=(0,l.useState)(!1);return 0==t.length?(0,a.jsx)("div",{style:{marginTop:30,textAlign:"center"},children:"未获取数据"}):(0,a.jsxs)(v,{onScroolTop:o,onScroolEnd:n,className:"art-list",children:[t.map((e,t)=>(0,a.jsxs)("div",{className:"art-item",style:{width:e.art_pic&&e.art_pic.startsWith("http")?"min(clamp(240px, 25%, 360px), 100%)":void 0},onClick:()=>{i(e),d(!0)},children:[e.art_pic&&e.art_pic.startsWith("http")&&(0,a.jsx)("img",{className:"art-pic",alt:e.art_name,src:e.art_pic}),(0,a.jsxs)("div",{className:"art-info",children:[(0,a.jsx)("div",{className:"art-name",dangerouslySetInnerHTML:{__html:e.art_name||""}}),(0,a.jsx)("div",{className:"art-blurb",dangerouslySetInnerHTML:{__html:e.art_blurb||""}}),(0,a.jsxs)("div",{className:"art-info-footer",children:[(0,a.jsx)("span",{className:"art-time",children:e.art_time}),(0,a.jsx)("span",{className:"art-class",onClick:t=>{t.stopPropagation(),s(e.type_id)},children:e.type_name})]})]})]},e.art_id+"_"+t)),(0,a.jsx)(u,{open:c,content:(0,a.jsxs)("div",{className:"art-detail",style:{padding:10,backgroundColor:"var(--background)"},children:[(0,a.jsx)("h3",{style:{marginBottom:10},dangerouslySetInnerHTML:{__html:(null==r?void 0:r.art_name)||""}}),(0,a.jsx)(m,{content:null==r?void 0:r.art_content})]}),onClose:()=>d(!1)})]})},g=e=>{let{loading:t}=e;return t?t?(0,a.jsx)("div",{className:"loading",children:(0,a.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3795",width:"1em",height:"1em",children:(0,a.jsx)("path",{d:"M876.864 782.592c3.264 0 6.272-3.2 6.272-6.656 0-3.456-3.008-6.592-6.272-6.592-3.264 0-6.272 3.2-6.272 6.592 0 3.456 3.008 6.656 6.272 6.656z m-140.544 153.344c2.304 2.432 5.568 3.84 8.768 3.84a12.16 12.16 0 0 0 8.832-3.84 13.76 13.76 0 0 0 0-18.56 12.224 12.224 0 0 0-8.832-3.84 12.16 12.16 0 0 0-8.768 3.84 13.696 13.696 0 0 0 0 18.56zM552.32 1018.24c3.456 3.648 8.32 5.76 13.184 5.76a18.368 18.368 0 0 0 13.184-5.76 20.608 20.608 0 0 0 0-27.968 18.368 18.368 0 0 0-13.184-5.824 18.368 18.368 0 0 0-13.184 5.76 20.608 20.608 0 0 0 0 28.032z m-198.336-5.76c4.608 4.8 11.072 7.68 17.6 7.68a24.448 24.448 0 0 0 17.536-7.68 27.456 27.456 0 0 0 0-37.248 24.448 24.448 0 0 0-17.536-7.68 24.448 24.448 0 0 0-17.6 7.68 27.52 27.52 0 0 0 0 37.184z m-175.68-91.84c5.76 6.08 13.824 9.6 21.952 9.6a30.592 30.592 0 0 0 22.016-9.6 34.368 34.368 0 0 0 0-46.592 30.592 30.592 0 0 0-22.016-9.6 30.592 30.592 0 0 0-21.952 9.6 34.368 34.368 0 0 0 0 46.592z m-121.152-159.36c6.912 7.36 16.64 11.648 26.368 11.648a36.736 36.736 0 0 0 26.432-11.584 41.28 41.28 0 0 0 0-55.936 36.736 36.736 0 0 0-26.432-11.584 36.8 36.8 0 0 0-26.368 11.52 41.28 41.28 0 0 0 0 56zM12.736 564.672a42.88 42.88 0 0 0 30.784 13.44 42.88 42.88 0 0 0 30.784-13.44 48.128 48.128 0 0 0 0-65.216 42.88 42.88 0 0 0-30.72-13.44 42.88 42.88 0 0 0-30.848 13.44 48.128 48.128 0 0 0 0 65.216z m39.808-195.392a48.96 48.96 0 0 0 35.2 15.36 48.96 48.96 0 0 0 35.2-15.36 54.976 54.976 0 0 0 0-74.56 48.96 48.96 0 0 0-35.2-15.424 48.96 48.96 0 0 0-35.2 15.424 54.976 54.976 0 0 0 0 74.56zM168.32 212.48c10.368 11.008 24.96 17.408 39.68 17.408 14.592 0 29.184-6.4 39.552-17.408a61.888 61.888 0 0 0 0-83.84 55.104 55.104 0 0 0-39.616-17.408c-14.656 0-29.248 6.4-39.616 17.408a61.888 61.888 0 0 0 0 83.84zM337.344 124.8c11.52 12.16 27.712 19.264 43.968 19.264 16.256 0 32.448-7.04 43.968-19.264a68.672 68.672 0 0 0 0-93.184 61.248 61.248 0 0 0-43.968-19.264 61.248 61.248 0 0 0-43.968 19.264 68.736 68.736 0 0 0 0 93.184z m189.632-1.088c12.672 13.44 30.528 21.248 48.448 21.248s35.712-7.808 48.384-21.248a75.584 75.584 0 0 0 0-102.464A67.392 67.392 0 0 0 575.36 0c-17.92 0-35.776 7.808-48.448 21.248a75.584 75.584 0 0 0 0 102.464z m173.824 86.592c13.824 14.592 33.28 23.104 52.736 23.104 19.584 0 39.04-8.512 52.8-23.104a82.432 82.432 0 0 0 0-111.744 73.472 73.472 0 0 0-52.8-23.168c-19.52 0-38.912 8.512-52.736 23.168a82.432 82.432 0 0 0 0 111.744z m124.032 158.528c14.976 15.872 36.032 25.088 57.216 25.088 21.12 0 42.24-9.216 57.152-25.088a89.344 89.344 0 0 0 0-121.088 79.616 79.616 0 0 0-57.152-25.088c-21.184 0-42.24 9.216-57.216 25.088a89.344 89.344 0 0 0 0 121.088z m50.432 204.032c16.128 17.088 38.784 27.008 61.632 27.008 22.784 0 45.44-9.92 61.568-27.008a96.256 96.256 0 0 0 0-130.432 85.76 85.76 0 0 0-61.568-27.072c-22.848 0-45.44 9.984-61.632 27.072a96.192 96.192 0 0 0 0 130.432z",fill:"#d4237a","p-id":"3796"})})}):void 0:(0,a.jsx)(a.Fragment,{})},f=()=>(0,a.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11427",width:"1em",height:"1em",children:(0,a.jsx)("path",{d:"M836.805049 0.0368a196.364271 196.364271 0 0 1 81.334484 15.927644 171.81155 171.81155 0 0 1 58.938031 42.464133 176.756595 176.756595 0 0 1 35.334069 61.324303 227.817055 227.817055 0 0 1 11.787606 73.744416v674.768587a148.466339 148.466339 0 0 1-12.362611 60.145542 155.251401 155.251401 0 0 1-34.184059 49.565447 167.182758 167.182758 0 0 1-50.082951 33.609054 148.351338 148.351338 0 0 1-60.116793 12.391361H190.930472a199.843053 199.843053 0 0 1-139.66876-46.60417Q0 930.797697 0 832.874313v-644.005809a209.158137 209.158137 0 0 1 11.787606-68.425617A174.887828 174.887828 0 0 1 106.088457 16.6257a193.029241 193.029241 0 0 1 82.484494-16.502649h648.232098zM142.601286 263.101673a35.794073 35.794073 0 0 0 4.743793 20.125182 22.683955 22.683955 0 0 0 13.541372 9.458835 81.334484 81.334484 0 0 0 20.613936 2.357522h661.255966a81.391984 81.391984 0 0 0 20.642686-2.357522 22.683955 22.683955 0 0 0 13.541372-9.458835 36.052825 36.052825 0 0 0 4.715042-20.125182V205.284902a60.375545 60.375545 0 0 0-18.256414-44.217899 61.611806 61.611806 0 0 0-45.39666-18.285165H206.254361a93.553344 93.553344 0 0 0-45.36791 10.00509 38.611598 38.611598 0 0 0-18.285165 37.174086v73.140659z m707.256381 248.890996a31.625285 31.625285 0 0 0 22.396452-8.82633 28.750259 28.750259 0 0 0 9.430085-21.821447v-14.173878a28.750259 28.750259 0 0 0-9.430085-21.821447 31.625285 31.625285 0 0 0-22.396452-8.855079h-163.876479a31.625285 31.625285 0 0 0-22.396452 8.855079 28.750259 28.750259 0 0 0-9.430085 21.821447v14.173878a28.750259 28.750259 0 0 0 9.430085 21.821447 31.625285 31.625285 0 0 0 22.396452 8.82633h163.876479z m29.469015 103.817186a32.20029 32.20029 0 0 0-31.826537-31.855287h-223.93577a32.20029 32.20029 0 0 0-31.826537 31.855287v10.608846a32.20029 32.20029 0 0 0 31.826537 31.855287h223.93577a32.20029 32.20029 0 0 0 31.826537-31.855287v-10.608846z m-438.441455-109.710989a60.375545 60.375545 0 0 0-18.256414-44.24665 61.611806 61.611806 0 0 0-45.39666-18.256414H208.698133a62.388063 62.388063 0 0 0-62.474314 62.503064v310.244048a62.416813 62.416813 0 0 0 62.474314 62.531814h168.53402a61.611806 61.611806 0 0 0 45.39666-18.285165 60.375545 60.375545 0 0 0 18.256414-44.246649V506.098866z m443.156498 254.813548a32.20029 32.20029 0 0 0-31.826537-31.855287h-234.544616a32.20029 32.20029 0 0 0-31.826537 31.855287v15.180137a32.20029 32.20029 0 0 0 31.826537 31.855287h234.544616a32.20029 32.20029 0 0 0 31.826537-31.855287v-15.323888z",fill:"#FF7026","p-id":"11428"})}),y=()=>(0,a.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6242",width:"1em",height:"1em",children:[(0,a.jsx)("path",{d:"M21.333329 405.333462l981.333129 0 0 597.333209-981.333129 0 0-597.333209Z",fill:"#9FDBAD","p-id":"6243"}),(0,a.jsx)("path",{d:"M959.9998 426.666791a21.333329 21.333329 0 0 1 21.333329 21.333329v511.999893a21.333329 21.333329 0 0 1-21.333329 21.333329H63.999987a21.333329 21.333329 0 0 1-21.333329-21.333329V448.00012a21.333329 21.333329 0 0 1 21.333329-21.333329h895.999813m0-42.666658H63.999987a63.999987 63.999987 0 0 0-63.999987 63.999987v511.999893a63.999987 63.999987 0 0 0 63.999987 63.999987h895.999813a63.999987 63.999987 0 0 0 63.999987-63.999987V448.00012a63.999987 63.999987 0 0 0-63.999987-63.999987z",fill:"#5C2D51","p-id":"6244"}),(0,a.jsx)("path",{d:"M66.986653 407.040129a15.999997 15.999997 0 0 1-15.359997-11.946665L21.333329 281.600155a15.999997 15.999997 0 0 1 11.519997-19.626663L951.679802 21.333542h4.053332a15.999997 15.999997 0 0 1 15.359997 11.946664l29.653327 113.49331a15.999997 15.999997 0 0 1-11.519997 19.626663L71.039985 406.613462z",fill:"#FFFFFF","p-id":"6245"}),(0,a.jsx)("path",{d:"M951.893135 43.946871l27.093328 103.253312L70.826652 384.000133l-26.879994-102.613312L951.893135 43.946871M955.733134 0.000213a37.333326 37.333326 0 0 0-9.386664 1.28L27.946661 241.493496a37.333326 37.333326 0 0 0-26.666661 45.439991l29.653327 113.49331A37.333326 37.333326 0 0 0 76.373317 426.666791L994.986459 186.880174a37.333326 37.333326 0 0 0 26.666661-45.653323L991.999793 27.946874A37.333326 37.333326 0 0 0 955.733134 0.000213z",fill:"#5C2D51","p-id":"6246"}),(0,a.jsx)("path",{d:"M177.493296 224.426833l78.933317-20.693329 9.173332 151.893302-78.933317 20.693329-9.173332-151.893302z",fill:"#F05071","p-id":"6247"}),(0,a.jsx)("path",{d:"M236.799951 230.826832l6.399998 108.586644-36.906659 9.599998-6.399998-108.586644 36.906659-9.599998m39.466658-54.399989L155.306634 208.213503l11.519998 195.413293 120.959975-31.573327-11.519998-195.413292z",fill:"#5C2D51","p-id":"6248"}),(0,a.jsx)("path",{d:"M369.919923 174.080177l78.933317-20.693329 8.959998 152.106635-78.933317 20.479996-8.959998-151.893302z",fill:"#F05071","p-id":"6249"}),(0,a.jsx)("path",{d:"M429.013244 180.693509l6.399999 108.586644-36.693326 9.386665-6.399999-108.586644 36.906659-9.599998M469.333236 126.29352L347.519928 157.866847l11.519997 195.413293 120.959975-31.573327-10.666664-195.413293z",fill:"#5C2D51","p-id":"6250"}),(0,a.jsx)("path",{d:"M562.133216 123.733521l78.933317-20.693329 9.173332 152.106635-79.146651 20.693329-8.959998-152.106635z",fill:"#F05071","p-id":"6251"}),(0,a.jsx)("path",{d:"M621.439871 130.346853l6.399998 108.586644-36.906659 9.599998-6.399998-108.586644 36.906659-9.599998M661.333196 75.946864L539.946554 106.666858l11.519998 195.413292 120.959975-31.573326L661.333196 75.946864z",fill:"#5C2D51","p-id":"6252"}),(0,a.jsx)("path",{d:"M754.559843 73.386865l78.719983-20.479996 9.173332 151.893302-78.933317 20.693329-8.959998-152.106635z",fill:"#F05071","p-id":"6253"}),(0,a.jsx)("path",{d:"M813.653164 80.000197l6.399998 108.586644-36.906658 9.599998-6.399999-108.586644 36.906659-9.599998M853.333156 25.600208l-121.173309 31.573327 11.519998 195.413292 120.959975-31.573326L853.333156 25.600208z",fill:"#5C2D51","p-id":"6254"}),(0,a.jsx)("path",{d:"M429.013244 842.026705a42.666658 42.666658 0 0 1-42.666658-42.666658v-189.866627a42.666658 42.666658 0 0 1 42.666658-42.666658 42.666658 42.666658 0 0 1 21.333329 5.759999l165.973299 94.933313a42.666658 42.666658 0 0 1 0 74.666651l-165.973299 94.079981a42.666658 42.666658 0 0 1-21.333329 5.759999z",fill:"#FDCA89","p-id":"6255"}),(0,a.jsx)("path",{d:"M429.013244 587.306758a21.333329 21.333329 0 0 1 10.666664 2.986666l165.973299 94.933313a21.333329 21.333329 0 0 1 0 37.759992l-165.973299 94.933314a21.333329 21.333329 0 0 1-10.666664 2.986666 21.333329 21.333329 0 0 1-21.333329-21.333329v-189.866627a21.333329 21.333329 0 0 1 21.333329-21.333329m0-42.666658a63.999987 63.999987 0 0 0-63.999987 63.999987v189.866627a63.999987 63.999987 0 0 0 96.426647 55.893322l165.973299-94.933314a63.999987 63.999987 0 0 0 0-111.786643l-165.973299-94.933314a63.999987 63.999987 0 0 0-31.78666-8.533331z",fill:"#5C2D51","p-id":"6256"})]}),j=()=>(0,a.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1458",width:"1em",height:"1em",children:(0,a.jsx)("path",{d:"M885.196958 871.528145c-14.753141-5.464126-25.134981-8.742602-34.970408-12.56749-30.052695-11.474665-59.012564-24.588568-89.611671-34.970408-8.742602-2.732063-21.310093-1.639238-29.506282 2.732063-21.310093 10.38184-42.073773 22.402918-61.744627 36.063234-6.556952 4.371301-12.021078 14.206728-13.660316 22.402918-6.556952 36.063234-11.474665 72.67288-15.845966 109.282526-2.732063 20.76368-12.56749 30.052695-33.877583 29.506282-62.837452-0.546413-125.674905-0.546413-188.512357 0-20.76368 0-31.691933-8.196189-34.423996-28.959869-4.917714-36.609646-10.928253-72.67288-15.299554-109.282526-1.639238-12.56749-6.010539-20.217267-18.031617-26.227806-20.217267-9.835427-38.248884-23.495743-58.466151-33.33117-7.103364-3.824888-18.031617-5.464126-25.681394-2.732063-35.516821 12.56749-69.940817 26.774219-104.911225 40.434535-25.134981 9.835427-32.238345 7.649777-46.445074-16.392379-31.14552-53.002025-61.744627-106.00405-92.343735-159.006075-14.206728-24.588568-13.660316-30.599107 8.742602-48.084311 29.506282-23.495743 59.558977-45.898661 88.518846-69.940817 5.464126-4.371301 9.289015-14.206728 9.289015-21.310093 1.092825-20.217267-3.278476-41.52736 0-61.198215 3.824888-21.310093-4.917714-32.238345-20.217267-43.71301-27.320632-19.670855-52.455613-41.52736-79.229831-61.198215-15.845966-12.021078-19.670855-24.588568-9.289015-42.073773 33.33117-56.280501 66.115928-113.107414 98.900686-169.934328 9.289015-15.845966 21.310093-19.124442 38.248884-12.56749 36.063234 14.206728 72.126467 28.959869 108.736113 42.073773 7.649777 2.732063 19.670855 1.092825 27.320632-2.732063 20.76368-10.38184 39.341709-24.042156 60.105389-34.423996 10.928253-5.464126 14.753141-12.021078 15.845966-22.94933 4.917714-37.156059 10.928253-74.312118 15.845966-111.468177C386.322226 7.649777 397.796892 0 418.014159 0c62.837452 0.546413 125.674905 0.546413 188.512357 0 19.670855 0 30.599107 8.196189 32.784758 27.867044 4.917714 36.609646 10.928253 72.67288 15.299554 109.282526 1.639238 13.660316 6.556952 21.856505 19.670855 27.867044 19.124442 8.742602 37.156059 19.670855 54.641263 31.691933 11.474665 8.196189 21.310093 8.196189 33.877583 2.732063 33.877583-14.206728 68.301579-26.774219 102.725575-40.980947 19.124442-7.649777 32.238345-3.824888 42.620185 14.753141 31.14552 55.187676 63.930278 109.828939 95.62221 164.470202 12.56749 21.856505 10.928253 28.959869-9.289015 44.805836-28.959869 22.402918-57.919739 45.352248-87.426021 67.755166-9.835427 7.649777-12.56749 14.753141-11.474665 27.320632 2.185651 22.94933-0.546413 46.445074 0.546413 69.394404 0.546413 8.196189 4.371301 18.031617 10.38184 22.94933 28.959869 24.042156 59.012564 46.445074 88.518846 69.394404 20.217267 15.845966 21.310093 22.94933 8.742602 44.805836-32.238345 55.734088-64.47669 110.921764-97.261448 166.10944C901.042924 860.05348 891.753909 865.517606 885.196958 871.528145zM510.357893 692.304803c98.900686 0.546413 180.862581-79.776244 181.408993-177.584105 0.546413-100.539924-79.229831-181.955406-178.67693-182.501819-99.447099-0.546413-181.408993 80.322657-181.408993 179.769755C331.134551 610.342908 412.00362 691.75839 510.357893 692.304803z","p-id":"1459",fill:"#ccc"})}),w=e=>{let{onChange:t}=e,[s,n]=(0,l.useState)(""),[o,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{n(localStorage.getItem("setting_proxyUrl")||"")},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{onClick:()=>r(!o),style:{cursor:"pointer",position:"absolute",right:10,top:10,fontSize:20,color:"white"},children:(0,a.jsx)(j,{})}),o&&(0,a.jsx)("div",{style:{position:"absolute",left:0,top:60,width:"100%",padding:0,display:"flex",justifyContent:"center"},children:(0,a.jsx)("input",{type:"text",style:{maxWidth:400,borderRadius:"5px"},placeholder:"请输入代理地址",value:s,onChange:e=>{n(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&(localStorage.setItem("setting_proxyUrl",s),r(!1),t({proxyUrl:s}))}})})]})},S=(e,t)=>{let s=localStorage.getItem("url_historys"),a=[];try{a=s?JSON.parse(s):[]}catch(e){}(a=a.filter(t=>t.url!==e)).push({url:e,name:t}),a.length>20&&a.shift(),localStorage.setItem("url_historys",JSON.stringify(a))},_=e=>{let t=localStorage.getItem("url_historys"),s=[];try{s=t?JSON.parse(t):[]}catch(e){}s=s.filter(t=>t.url!==e),localStorage.setItem("url_historys",JSON.stringify(s))},T=()=>{let{push:e}=(0,i.useRouter)(),[t,s]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=localStorage.getItem("url_historys"),t=[];try{t=e?JSON.parse(e):[]}catch(e){}s(t.map(e=>({url:e.url,name:e.name.split("|")[1]||e.name,type:e.name.split("|")[0]})))},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{display:"flex",gap:10,margin:"20px auto",width:"min(700px,90vw)",flexWrap:"wrap",justifyContent:"center"},children:t.map(l=>(0,a.jsxs)("div",{style:{cursor:"pointer",padding:"2px 5px",borderRadius:4,lineHeight:"25px",display:"flex",border:"1px solid #ccc"},onClick:()=>e("/?url="+l.url),children:["art"==l.type?(0,a.jsx)("span",{style:{fontSize:"16px"},children:(0,a.jsx)(f,{})}):(0,a.jsx)(a.Fragment,{}),"vod"==l.type?(0,a.jsx)("span",{style:{fontSize:"16px"},children:(0,a.jsx)(y,{})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("span",{style:{marginLeft:"12px"},children:l.name}),(0,a.jsx)("span",{style:{marginLeft:12,display:"flex",alignItems:"center"},onClick:e=>{e.stopPropagation(),_(l.url),s(t.filter(e=>e.url!==l.url))},children:(0,a.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4246",width:"16",height:"16",children:(0,a.jsx)("path",{d:"M509.262713 5.474574c281.272162 0 509.262713 228.02238 509.262713 509.262713 0 281.272162-227.990551 509.262713-509.262713 509.262713s-509.262713-227.990551-509.262713-509.262713c0-281.240333 227.990551-509.262713 509.262713-509.262713z m135.050106 278.725849L509.262713 419.250528l-135.050106-135.050105-90.012184 90.012184L419.186871 509.262713l-135.018277 135.081935 90.012184 90.012184L509.262713 599.274897l135.050106 135.050106 90.012184-90.012184L599.274897 509.262713l135.050106-135.050106-90.012184-90.012184z",fill:"#4B4B4B","p-id":"4247"})})})]},l.url))})})};var M=s(2004),b=s.n(M);function L(e){let{detail:t}=e,[s,n]=(0,l.useState)(""),[o,r]=(0,l.useState)([]);return(0,l.useEffect)(()=>{var e;let s=(null==t?void 0:null===(e=t.vod_play_url)||void 0===e?void 0:e.split("#"))||[];r(e=>{var t;e.length=0,s.forEach(t=>{e.push({name:t.split("$")[0],url:t.split("$")[1]})});let a=(null===(t=e[0])||void 0===t?void 0:t.url)||"";return n(a),[...e]})},[null==t?void 0:t.vod_play_url]),(0,a.jsxs)("div",{style:{padding:12,backgroundColor:"var(--background)",height:"100%",position:"relative",overflow:"auto",display:"flex",flexDirection:"column"},children:[(0,a.jsx)("h3",{style:{marginBottom:10},children:null==t?void 0:t.vod_name}),(0,a.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center"},children:s?(0,a.jsx)(b(),{width:"100%",height:"100%",style:{width:"calc((100dvh - 56px) / 9 * 16)",height:"auto",maxHeight:"calc(100dvh - 56px)"},controls:!0,url:s,config:{file:{forceHLS:!0}}}):(0,a.jsx)("img",{style:{width:"100%"},alt:null==t?void 0:t.vod_name,src:null==t?void 0:t.vod_pic})}),(0,a.jsx)("div",{style:{padding:12},dangerouslySetInnerHTML:{__html:(null==t?void 0:t.vod_blurb)||""}}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:20},children:o.map(e=>(0,a.jsx)("span",{style:{marginRight:"16px",cursor:"pointer",padding:"4px 6px",border:"1px solid #ccc",borderRadius:5,marginBottom:8},onClick:()=>n(e.url),children:e.name},e.url))})]})}let z=e=>{let{vods:t,onType:s,onScroolEnd:n,onScroolTop:o}=e,[r,i]=(0,l.useState)(),[c,d]=(0,l.useState)(!1);return 0==t.length?(0,a.jsx)("div",{style:{marginTop:30,textAlign:"center"},children:"未获取数据"}):(0,a.jsxs)(v,{onScroolTop:o,onScroolEnd:n,className:"vod-list",children:[t.map((e,t)=>(0,a.jsxs)("div",{className:"vod-item",onClick:()=>{i(e),d(!0)},children:[(0,a.jsx)("img",{className:"vod-pic",alt:e.vod_name,src:e.vod_pic}),(0,a.jsxs)("div",{className:"vod-info",children:[(0,a.jsx)("div",{className:"vod-name",onClick:e=>e.stopPropagation(),dangerouslySetInnerHTML:{__html:e.vod_name||""}}),(0,a.jsxs)("div",{className:"vod-info-footer",children:[(0,a.jsx)("span",{className:"vod-duration",children:e.vod_duration}),(0,a.jsxs)("span",{className:"vod-time",children:[e.vod_pubdate," ",(0,a.jsx)("span",{className:"vod-class",onClick:t=>{t.stopPropagation(),s(e.type_id)},children:e.type_name})]})]})]})]},e.vod_id+"_"+t)),(0,a.jsx)(u,{open:c,onClose:()=>d(!1),content:(0,a.jsx)(L,{detail:r})})]})};var E=s(7066),C=s(9008),N=s.n(C);let k="https://proxy.eaias.com/";function Y(){let{query:e,push:t,replace:s}=(0,i.useRouter)(),[n,o]=(0,l.useState)([]),[r,c]=(0,l.useState)([]),[d,p]=(0,l.useState)([]),[u,h]=(0,l.useState)(1),[m,v]=(0,l.useState)(""),[f,y]=(0,l.useState)({type:"vod",url:""}),[j,_]=(0,l.useState)(100),[M,b]=(0,l.useState)(0),[L,C]=(0,l.useState)(!1),[Y,F]=(0,l.useState)(""),X=(0,l.useState)(0)[1],D=(0,l.useCallback)((s,a,l)=>{if(!f.url||L||s>1&&s>j)return;C(!0),h(s),b(l);let n={wd:a||void 0,pg:void 0,t:l+""||void 0,type:e.type||void 0},o=Object.keys(n).filter(e=>n[e]).map(e=>e+"="+n[e]).join("&");return t("?url="+f.url+"&"+o),(0,E.Z)(k+f.url+"?ac=detail&pg="+(s||"")+"&wd="+(a||"")+"&t="+(l||"")).then(e=>e.data).then(e=>{Array.isArray(e.list)&&(y(t=>("vod"==t.type?c(t=>1==s?[...e.list]:[...t,...e.list]):p(t=>1==s?[...e.list]:[...t,...e.list]),t)),_(e.pagecount))}).catch(e=>{e.status&&403==e.status&&alert("无权限访问此功能"),console.error(e)}).finally(()=>setTimeout(()=>{C(!1)},500))},[f.url,L,j,t,e.type]),P=(0,l.useCallback)((e,t,s)=>{e&&(C(!0),(0,E.Z)(k+e+"?ac=list").then(e=>e.data).then(e=>{Array.isArray(e.class)&&o(e.class)}).catch(e=>{console.error(e)}),(0,E.Z)(k+e+"?ac=detail&pg=1&wd="+(t||"")+"&t="+(s||"")).then(e=>e.data).then(e=>{Array.isArray(e.list)||(e.list=[]),y(t=>("vod"==t.type?c(e.list):p(e.list),t))}).catch(e=>{console.error(e)}).finally(()=>setTimeout(()=>{C(!1)},500)))},[]);return((0,l.useEffect)(()=>{k=localStorage.getItem("setting_proxyUrl")||"https://proxy.eaias.com/"},[]),(0,l.useEffect)(()=>{if(e.url){let t=(e.url||"").split("?")[0],s={url:t,type:e.type?e.type:t.includes("/art")?"art":"vod"};y(s),S(s.url+"?type="+s.type,s.type+"|"+new URL(t).hostname),e.t&&b(Number(e.t)),e.wd&&F(e.wd),t&&P(t,e.wd,Number(e.t))}else y({url:"",type:"vod"})},[P,e.t,e.type,e.url,e.wd]),f.url)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(N(),{children:[(0,a.jsx)("title",{children:"CMS 播放器"}),(0,a.jsx)("meta",{name:"description",content:"直接浏览采集站数据"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vbh"},children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{className:"logo"}),(0,a.jsxs)("div",{className:"search",children:[(0,a.jsx)("input",{type:"text",value:Y,onChange:e=>{F(e.target.value)},onKeyUp:e=>{"Enter"==e.key&&D(1,Y,M)},placeholder:"关键字"}),(0,a.jsx)("button",{onClick:()=>{D(1,Y,M)},children:(0,a.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1836",width:"1em",height:"1em",children:(0,a.jsx)("path",{d:"M467.92892 935.905986a467.92892 467.92892 0 1 1 331.010811-136.918108 466.424325 466.424325 0 0 1-331.010811 136.918108zM467.92892 150.507607a317.46946 317.46946 0 1 0 225.689189 93.284865 315.964865 315.964865 0 0 0-225.689189-93.284865zM771.556109 922.515094l151.587906-151.587905 101.033527 101.108757-151.587905 151.587905z",fill:"#272536","p-id":"1837"})})})]})]}),(0,a.jsx)("div",{className:"type-list",onWheel:e=>{let t=e.target;t.classList.contains("type-list")||(t=document.getElementsByClassName("type-list")[0]),X(s=>(t.scrollTo(s+e.deltaY,0),s+e.deltaY<0)?0:s+e.deltaY>t.scrollWidth-t.offsetWidth?t.scrollWidth-t.offsetWidth:s+e.deltaY)},children:n.map(e=>(0,a.jsx)("span",{className:"type-item "+(M+""==e.type_id+""?"activity":""),onClick:()=>{D(1,Y,M==e.type_id?0:e.type_id)},children:e.type_name},e.type_id))}),"vod"==f.type?(0,a.jsx)(z,{vods:r,onScroolEnd:()=>{D(u+1,Y,M)},onType:e=>{D(1,Y,e)},onScroolTop:()=>{D(1,Y,M)}}):(0,a.jsx)(x,{arts:d,onScroolEnd:()=>{D(u+1,Y,M)},onType:e=>{D(1,Y,e)},onScroolTop:()=>{D(1,Y,M)}}),(0,a.jsx)(g,{loading:L})]})]}):(0,a.jsxs)("div",{className:"init-wrap",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",placeholder:"请输入采集地址",value:m,onChange:e=>{v(e.target.value)},onKeyDown:e=>{"Enter"==e.key&&(v(""),s("/?url="+m))}}),(0,a.jsx)("button",{onClick:()=>{v(""),s("/?url="+m+"&type=vod")},children:"视频"}),(0,a.jsx)("button",{onClick:()=>{v(""),s("/?url="+m+"&type=art")},children:"图文"})]}),(0,a.jsx)(T,{}),(0,a.jsx)(w,{onChange:e=>k=e.proxyUrl})]})}}},function(e){e.O(0,[816,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);